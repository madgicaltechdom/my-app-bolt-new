# Test configuration
appId: com.madgicaltechdom.storagesysapp
---

# Load POM
- runScript: 
    file: ../../elements/userProfile.js
    
# Launch the app and login
- runFlow: "../login/login_success.yaml"

# Verify profile screen elements (includes navigation to profile)
- runFlow: "_common/verify_profile_screen.yaml"

# Start editing profile
- tapOn: "${output.userProfile.editProfileButton}"
- waitForAnimationToEnd: true

# Fill in updated profile data
- runFlow: 
    file: "_common/fill_profile_form.yaml"
    env:
      NAME: "John Updated"
      BIO: "Updated bio information for testing"

# Submit the form
- runFlow: "_common/submit_profile_form.yaml"

# Verify success message
- assertVisible: 
    id: "${output.userProfile.successMessage}"

# Verify updated data is displayed
- assertVisible: 
    text: "John Updated"
- assertVisible: 
    text: "Updated bio information for testing"

# Take screenshot for verification
- takeScreenshot: "user_profile_updated"
