# Test login with special characters in password
appId: com.kapil.jain.boltexponativewind
---

# Load POM
- runScript: 
    file: ../../elements/login.js

# Launch the app
- runFlow: "_common/launch_app.yaml"

# Verify login screen elements are visible
- runFlow: "_common/verify_login_screen.yaml"

# Fill in credentials with special characters in password
- runFlow: 
    file: "_common/fill_credentials.yaml"
    env:
      LOGIN_EMAIL: "special@example.com"
      LOGIN_PASSWORD: "!@#$%^&*()_+-=[]{}|;:,.<>?"

# Submit login form
- runFlow: "_common/submit_login.yaml"

# Wait for the login attempt to complete
- waitForAnimationToEnd

# Verify the error toast is shown
- assertVisible:
    id: "toast-message"
    text: "Invalid login credentials"

# Verify we're still on the login screen
- assertVisible:
    id: "${output.login.signInButton}"
